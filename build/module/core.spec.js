import anyTest from 'ava';
import PWCore, { Address, AddressType, Amount, ChainID } from '.';
import { PwCollector } from './collectors/pw-collector';
import { CHAIN_SPECS } from './constants';
import { DummyProvider } from './providers/dummy-provider';
const test = anyTest;
test.before(async (t) => {
    const address = new Address('0x26C5F390FF2033CbB44377361c63A3Dd2DE3121d', AddressType.eth);
    const pw = await new PWCore('https://lay2.ckb.dev').init(new DummyProvider(), new PwCollector('https://cellapi.ckb.pw'), ChainID.ckb_dev, CHAIN_SPECS.Lay2);
    t.context = { pw, address };
});
test.skip('send simple tx', async (t) => {
    // test.serial('send simple tx', async (t) => {
    const { pw, address } = t.context;
    const amount61 = new Amount('61');
    const txHash = await pw.send(address, amount61);
    t.pass('tx sent: ' + txHash);
});
test.serial('chain specs auto select', async (t) => {
    await new PWCore('https://lina.ckb.dev').init(new DummyProvider(), new PwCollector('https://cellapi.ckb.pw'));
    t.is(PWCore.chainId, ChainID.ckb);
    await new PWCore('https://aggron.ckb.dev').init(new DummyProvider(), new PwCollector('https://cellapi.ckb.pw'));
    t.is(PWCore.chainId, ChainID.ckb_testnet);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29yZS5zcGVjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvcmUuc3BlYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLE9BQTBCLE1BQU0sS0FBSyxDQUFDO0FBQzdDLE9BQU8sTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sR0FBRyxDQUFDO0FBQ2xFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUUzRCxNQUFNLElBQUksR0FBRyxPQUEwRCxDQUFDO0FBRXhFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RCLE1BQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUN6Qiw0Q0FBNEMsRUFDNUMsV0FBVyxDQUFDLEdBQUcsQ0FDaEIsQ0FBQztJQUNGLE1BQU0sRUFBRSxHQUFHLE1BQU0sSUFBSSxNQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxJQUFJLENBQ3RELElBQUksYUFBYSxFQUFFLEVBQ25CLElBQUksV0FBVyxDQUFDLHdCQUF3QixDQUFDLEVBQ3pDLE9BQU8sQ0FBQyxPQUFPLEVBQ2YsV0FBVyxDQUFDLElBQUksQ0FDakIsQ0FBQztJQUNGLENBQUMsQ0FBQyxPQUFPLEdBQUcsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUM7QUFDOUIsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUN0QywrQ0FBK0M7SUFDL0MsTUFBTSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO0lBQ2xDLE1BQU0sUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLE1BQU0sTUFBTSxHQUFHLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDaEQsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLENBQUMsTUFBTSxDQUFDLHlCQUF5QixFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNqRCxNQUFNLElBQUksTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUMsSUFBSSxDQUMzQyxJQUFJLGFBQWEsRUFBRSxFQUNuQixJQUFJLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUMxQyxDQUFDO0lBQ0YsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUVsQyxNQUFNLElBQUksTUFBTSxDQUFDLHdCQUF3QixDQUFDLENBQUMsSUFBSSxDQUM3QyxJQUFJLGFBQWEsRUFBRSxFQUNuQixJQUFJLFdBQVcsQ0FBQyx3QkFBd0IsQ0FBQyxDQUMxQyxDQUFDO0lBQ0YsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUM1QyxDQUFDLENBQUMsQ0FBQyJ9